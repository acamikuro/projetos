<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      #tabuleiro {
        width: 600px;
        height: 600px;
        border: solid 3px;
      }

      .linha {
        height: 200px;
        border-bottom: solid 1px;
      }

      .casa {
        width: 200px;
        height: 100%;
        border-right: solid 1px;
        box-sizing: border-box;
        float: left;
      }

      .elementos {
        font-size: 10em;
        display: flex;
        justify-content: center;
        align-items: center;
      }
    </style>
    <meta charset="UTF-8" />
    <title>Jogo da Velha</title>
    <script
      type="text/javascript"
      src="http://code.jquery.com/jquery-1.7.2.min.js"
    ></script>
    <script>
      let vez = "X";
      let vencedor = "";

      function casasIguais(a, b, c) {
        let bgA = $("#casa" + a).text();
        let bgB = $("#casa" + b).text();
        let bgC = $("#casa" + c).text();
        if (bgA == bgB && bgB == bgC && bgA != "") {
          if (bgA == "X") vencedor = "X";
          else vencedor = "O";
          return true;
        } else {
          return false;
        }
      }

      function verificaFimDeJogo() {
        if (
          casasIguais(1, 2, 3) ||
          casasIguais(4, 5, 6) ||
          casasIguais(7, 8, 9) ||
          casasIguais(1, 4, 7) ||
          casasIguais(2, 5, 8) ||
          casasIguais(3, 6, 9) ||
          casasIguais(1, 5, 9) ||
          casasIguais(3, 5, 7)
        ) {
          $("#resultado").html(`O jogador ${vencedor} venceu!`);
          $("#btn").attr("disabled","disabled");
          $("#posicao").attr("disabled","disabled");
        }
      }

      function jogada() {
        const valorInput = $("#posicao").val();
        if (valorInput > 0 && valorInput < 10) {
          $(`#casa${valorInput}`).text(vez);
          if (vez === 'X') {
            vez = 'O'
          } else {
            vez = 'X'
          }
        }
        verificaFimDeJogo() 
        $('#posicao').val('')
      }

      //$(jogada){
      // $('btn').click(function(){
      //   console.log(event.currentTarget())
      // })
      //}

      // $('.casa').click(function() {
      //     let bg = $(this);
      //     if(bg == 'none' || bg == '') {
      //         var fig = 'url(' + vez.toString() +'.png)';
      //         $(this).css('background', fig);
      //         vez = (vez == 1? 2:1);
      //         verificaFimDeJogo();
      //     }
      // });
    </script>
  </head>
  <body>
    <div style="margin: 10px">
      Escolha uma casa: <input type="text" id="posicao" />
      <button onclick="jogada()" id="btn" >enviar</button>
      <p id="resultado"></p>
    </div>
    
    <div id="tabuleiro">
      <div class="linha">
        <div class="casa elementos" id="casa1"></div>
        <div class="casa elementos" id="casa2"></div>
        <div class="casa elementos" id="casa3"></div>
      </div>
      <div class="linha">
        <div class="casa elementos" id="casa4"></div>
        <div class="casa elementos" id="casa5"></div>
        <div class="casa elementos" id="casa6"></div>
      </div>
      <div class="linha">
        <div class="casa elementos" id="casa7"></div>
        <div class="casa elementos" id="casa8"></div>
        <div class="casa elementos" id="casa9"></div>
      </div>
    </div>
  </body>
</html>

